# nkp-cluster-cleaner

![Version: 0.6.0](https://img.shields.io/badge/Version-0.6.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.6.0](https://img.shields.io/badge/AppVersion-0.6.0-informational?style=flat-square)

A simple tool to automatically delete Nutanix NKP clusters that do not meet a specific criteria

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| app.config | string | `"excluded_namespace_patterns:\n- ^default$\nprotected_cluster_patterns:\n- .*-prod-.*"` | Default set of exclusion rules |
| app.kubeconfigSecretRef | string | `"kommander-self-attach-kubeconfig"` | Secret containing a valid kubeconfig for the management cluster |
| cronjob.delete | bool | `false` | Set to true to actually delete clusters, default is to operate in "dry-run" mode |
| cronjob.enabled | bool | `true` | Enable scheduled deletion CronJobs |
| cronjob.failedJobsHistoryLimit | int | `1` | How many failed jobs to keep |
| cronjob.schedule | string | `"@daily"` | Schedule to run the job. Uses standard Kubernetes CronJob syntax. |
| cronjob.successfulJobsHistoryLimit | int | `3` | How many successful jobs to keep |
| deployment.image | string | `"ghcr.io/markround/nkp-cluster-cleaner:0.6.0"` | Container image to use |
| deployment.replicas | int | `1` | Number of replicas to deploy |
| ingress.authentication.enabled | bool | `true` | If true, access to the dashboard will require logging in with an admin account. Setting to false will enable anonymous access. |
| ingress.class | string | `"kommander-traefik"` | Ingress class to use |
| ingress.enabled | bool | `true` | Enables ingress through the Kommander Traefik deployment |
| ingress.prefix | string | `"/mdr/nkp-cluster-cleaner"` | URL Prefix for the dashboard |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
